<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="google-site-verification" content="mxk7-mw5Q4wVVctQb0ckocY0eVXeDnwWsQbLwjiwBJs" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>The Reaper | Demonstrate. Test. Approve.</title>
  <meta name="description" content="Probo.CI documentation.">

  <link rel="stylesheet" href="/css/probo_docs.css">
  
  <link rel="canonical" href="http://docs.probo.ci/reaper/">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://cdn.rawgit.com/ProboCI/probo-styleguide/master/dist/probo.css" rel="stylesheet">

</head>


  <body class="sidebar-page site">
    <div class="site-content">
      <header class="site-header">

  <div class="wrapper">

    <a id="simple-menu" href="#sidr">
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 29.1 22.4" enable-background="new 0 0 29.1 22.4" xml:space="preserve">
                <rect x="0.1" y="0" fill="#f7f4f8" width="25" height="3"/>
                <rect x="0.1" y="8.1" fill="#f7f4f8" width="25" height="3"/>
                <rect x="0.1" y="16.2" fill="#f7f4f8" width="25" height="3"/>
            </svg>
    </a>

    <div id="sidr" style="display:none">
      <ul>
        
        
        <li class="login"><a href="https://app.probo.ci/" target="_blank">Login</a></li>

      </ul>
    </div>

    <h1 class="st"><a class="site-title" href="/">
      <img src="/images/probo-logo-no-slogan-white.png" alt="Probo logo with name"></a></h1>

    <ul id="navigation">
      

      <li class="login">
        <a href="https://app.probo.ci/" target="_blank">Login</a>
      </li>
    </ul>

  </div>

</header>


      <div class="wrapper">

        <header class="page-header">
          


<ul class="breadcrumb">
  
  <li><a href="/">home</a> &nbsp; </li>
  
</ul>

          <h1 class="page-title">The Reaper</h1>
        </header>

        <div id="sidebar-first">
          <ul class="sidebar-nav">
    <li><a href="/getting-started/" >Getting Started</a></li>
    <li><a href="/build/" >Build Configuration</a></li>
    <li><a href="/recipes" >Recipes</a></li>
    <li><a href="/assets/" >Assets</a></li>
    <li><a href="/app/" >Using the Probo App</a></li>
    <li><a href="/build-steps/" >Build Steps</a></li>
    <li><a href="/reaper/" class="current">Reaper</a></li>
    <li><a href="#" class=drop-top>Plugins</a>
        <ul class="drop">
            <li><a href="/plugins/shell-plugin/" >Shell Plugin</a></li>
            <li><a href="/plugins/script-plugin/" >Script Plugin</a></li>
            <li><a href="/plugins/drupal-plugin/" >Drupal Plugin</a></li>
            <li><a href="/plugins/lamp-plugin/" >LAMP Plugin</a></li>
            <li><a href="/plugins/wordpress-plugin/" >WordPress Plugin</a></li>
        </ul>
    </li>
    <li><a href="#" class=drop-top>Git Integrations</a>
        <ul class="drop">
            <li><a href="/git/git-integrations-overview" >Git Integrations Overview</a></li>
            <li><a href="/git/github/" >GitHub Integration</a></li>
            <li><a href="/git/bitbucket/" >Bitbucket Integration</a></li>
        </ul>
    </li>
    <li><a href="#" class=drop-top>Drupal</a>
        <ul class="drop">
            <li><a href="/drupal/drupal-overview" >Drupal Overview</a></li>
            <li><a href="/drupal/stage-file-proxy/" >Stage File Proxy</a></li>
            <li><a href="/drupal/solr/" >Apache Solr</a></li>
            <li><a href="/drupal/install-profile/" >Install Profile</a></li>
        </ul>
    </li>
    <li><a href="#" class=drop-top>Tutorials</a>
        <ul class="drop">
            <li><a href="/tutorials/drupal-github-quickstart/" >Drupal Github QuickStart</a></li>
            <li><a href="/tutorials/drupal-bitbucket-quickstart/" >Drupal Bitbucket QuickStart</a></li>
            <li><a href="/tutorials/drupal-install-profile-quickstart/" >Drupal Install Profile QuickStart</a></li>
            <li><a href="/tutorials/pantheon/" >Using Probo on Your Pantheon Site</a></li>
            <li><a href="/tutorials/workflow/" >Feature Branch Workflow Process</a></li>
        </ul>
    </li>
</ul>

        </div>

        <div class="page-content">
          <p>Probo has a feature fondly known as the Reaper. Its job is to clean up old builds and generally make sure your organization does not exceed its allotted disk space. If it does, the Reaper selectively deletes, or “reaps,” builds until you’re back under.</p>

<h2 id="what-happens-when-a-build-is-reaped">What happens when a build is reaped?</h2>

<ul>
  <li>You will no longer see its <strong>View Site</strong> button on its build page.</li>
  <li>If the build had a database, any content in it will be lost.</li>
  <li>The logs will remain intact. You can access them on the build page.</li>
  <li>You have the option to rebuild the environment by clicking “Rebuild” on its build page.</li>
</ul>

<p>You can find details of reaped builds by toggling to show all builds on the project page and then clicking “+ View older versions.”</p>

<h2 id="reaper-logic">Reaper Logic</h2>

<p>The Reaper works on a couple of premises:</p>

<ol>
  <li>Probo builds are designed to be short-lived sandboxes. We do not at this time support long-lived environments.</li>
  <li>An organization’s oldest builds are its least valuable builds. This is in line with Continuous Integration principles; pull requests should not be open for very long in preference of continuously reviewing and merging code.</li>
</ol>

<p>With this in mind, there are three processes the Reaper carries out:</p>

<h3 id="reaping-outdated-builds">1. Reaping outdated builds</h3>

<p>The Reaper assumes only the latest build on a branch has value. If a new commit is pushed to your pull request, the Reaper removes the existing build while Probo puts together a new build based on the new HEAD commit. This frees you up to commit and push to your PR branch as frequently as you like. This means you won’t have to constantly delete builds in the app or worry about using up all of your disk space with old builds.</p>

<h3 id="reaping-builds-for-closed-pull-requests">2. Reaping builds for closed pull requests</h3>

<p>The Reaper periodically checks for closed pull requests. If it finds any, it deletes those pull requests’ builds. When this happens, you will not see any details for these pull requests in the Probo app until you toggle to show all builds on the project page.</p>

<h3 id="reaping-to-meet-disk-limit">3. Reaping to meet disk limit</h3>

<p>Probo monitors your organization’s total disk usage and compares it to how much disk space your account has. If you exceed your disk allocation, the Reaper is dispatched to selectively delete builds until you are at or below your limit. Currently the oldest builds are deleted first. This means the very oldest build of all of your projects’ pull requests will be deleted first, followed by the second oldest and so on.</p>

        </div>

      </div>

    </div>
    <footer class="site-footer">
    <div class="footer-learn-more">
        <div class="wrapper">
            <p>Want to try Probo today? <a href="https://app.probo.ci">Get started.</a></p>
            <div class="right">
                <a href="https://www.facebook.com/proboci" title="Probo on Facebook" target="_blank"><i class="fa fa-facebook"></i></a>
                <a href="https://github.com/ProboCI/probo" title="Probo on Github" target="_blank"><i class="fa fa-github-alt"></i></a>
                <a href="https://twitter.com/ProboCI" title="Sweet Probo Tweets" target="_blank"><i class="fa fa-twitter"></i></a>
            </div>
        </div>
    </div>
    <div>

        <div class="footer-left">
            <div class="copyright">&copy; 2016 Probo.CI</div>
        </div>


        <ul class="footer-navigation right">
            
            <li><a href="/changelog/">Changelog</a></li>
            <li class="login"><a href="https://app.probo.ci/" target="_blank">Login</a></li>
        </ul>
    </div>

</footer>

<div class="overlay"></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/javascripts/build/vendor.min.js"></script>
<script src="/javascripts/build/probo.min.js"></script>


  </body>

</html>
